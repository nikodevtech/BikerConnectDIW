
@{
    ViewData["Title"] = "login";
    var mensajeRegistroExitoso = ViewData["MensajeRegistroExitoso"] as string;
    var cuentaVerificada = ViewData["CuentaVerificada"] as string;
    var cuentaNoVerificada = ViewData["EmailNoConfirmado"] as string;
    var yaEstabaVerificada = ViewData["yaEstabaVerificada"] as string;
    var error = ViewData["Error"] as string;
}

<div class="container py-4">
    <div class="login cardPrincipal">
        <form class="custom-form" method="post" asp-action="ProcesarInicioSesion" role="form">
            <h2 class="text-center mb-5"><i class="bi bi-box-arrow-in-right" style="color: #1f3c85;"> Iniciar sesión</i></h2>
            <div class="mb-3">
                <label class="form-label textoPrincipal">Correo Electrónico</label>
                <input type="text" class="form-control" placeholder="Introduzca su correo electrónico" required autofocus />
            </div>
            <div class="mb-3">
                <label class="form-label textoPrincipal">Contraseña</label>
                <input  type="password" class="form-control" placeholder="Introduzca su contraseña" required />
            </div>
            <button type="submit" class="btn btn-primary mt-5 mb-5"><i class="bi bi-box-arrow-in-right fs-5"> Iniciar sesión</i></button>
            <hr class="border border-primary border-2 opacity-80 m-4">
            <ul class="listaLogin">
                <li><a asp-action="SolicitarRecuperacion">Olvidó su <span class="fw-bold fs-5">contraseña?</span></a></li>
                <li><a href="/auth/crear-cuenta">No tiene una cuenta?<span class="fw-bold fs-5"> Regístrese</span></a></li>
            </ul>
        </form>
    </div>
    @if (!string.IsNullOrEmpty(mensajeRegistroExitoso))
    {
        <script>
            mostrarNotificacion("¡Email de confirmación enviado!", "Revise su bandeja de entrada y confirme su cuenta de correo electrónico.", 'info');
        </script>
    }

    @if (!string.IsNullOrEmpty(cuentaVerificada))
    {
        <script>
            mostrarNotificacion("¡Cuenta verificada!", "La cuenta ha sido confirmada correctamente. Ya puede iniciar sesión", 'success');
        </script>
    }
    @if (!string.IsNullOrEmpty(cuentaNoVerificada))
    {
        <script>
            mostrarNotificacion("¡Debe confirmar su correo electrónico!", "Para poder iniciar sesión, antes debe confirmar su cuenta de correo electrónico. Revise su bandeja de entrada", 'error');
        </script>
    }
    @if (!string.IsNullOrEmpty(yaEstabaVerificada))
    {
        <script>
            mostrarNotificacion("¡Se encuentra registrado y vericado!", "Puede acceder y hacer uso de su cuenta", 'info');
        </script>
    }
    @if (!string.IsNullOrEmpty(error))
    {
        <script>
            mostrarNotificacion("¡Error!", "Ocurrio un error no esperado, intentelo de nuevo", 'error');
        </script>
    }

</div>

